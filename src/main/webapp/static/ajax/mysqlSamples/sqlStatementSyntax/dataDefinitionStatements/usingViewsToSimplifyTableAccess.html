<section id="widget-grid" class="">
    <div class="row">
        <article class="col-sm-12 col-md-12 col-lg-12">
            <div class="jarviswidget jarviswidget-color-orange" id="wid-id-0" data-widget-editbutton="false">
                <header>
                    <span class="widget-icon"> <i class="fa fa-lg fa-calendar"></i> </span>
                    <h2>Using Views To Simplify Table Access </h2>
                </header>
                <div>
                    <div class="jarviswidget-editbox">
                    </div>
                    <div class="widget-body">
                        <button id="prepareDatabaseTables" class="btn btn-sm btn-primary" type="button">
                            Prepare Database Tables
                        </button>
                        <p><span id="prepareDatabaseTablesOutput"></span></p>

                        <button id="selectWithoutViews" class="btn btn-sm btn-primary" type="button">
                            Select without views
                        </button>
                        <table id="selectWithoutViewsTable" class="table table-striped table-bordered table-hover hidden" width="100%">
                            <thead>
                            <tr>
                                <th>Date sent</th>
                                <th>Sender</th>
                                <th>Recipient</th>
                                <th>Size</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                            </tr>
                            </tbody>
                        </table>
                        <p></p>

                        <button id="createView" class="btn btn-sm btn-primary" type="button">
                            Create view
                        </button>
                        <p><span id="createViewOutput"></span></p>

                        <button id="selectWithViews" class="btn btn-sm btn-primary" type="button">
                            Select with views
                        </button>
                        <table id="selectWithViewsTable" class="table table-striped table-bordered table-hover hidden" width="100%">
                            <thead>
                                <tr>
                                    <th>Date sent</th>
                                    <th>Sender</th>
                                    <th>Size</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </article>
    </div>
    <div class="row">
    </div>
</section>

<script type="text/javascript">

    $(document).ready(function(){

        $( "#prepareDatabaseTables" ).click(function() {
            var pathname = location.pathname.split("/static").splice(0)[0];
            var url1 = location.origin + pathname + "/mysqlSamples/sqlStatementSyntax/dataDefinitionStatements/usingViewsToSimplifyTableAccess/prepareDatabaseTables";
            $.ajax({
                type: "GET",
                dataType: "html",
                url: url1,
                success: function(result){
                    $('#prepareDatabaseTablesOutput').html(result);
                }
            });
        });

        $( "#selectWithoutViews" ).click(function() {
            var pathname = location.pathname.split("/static").splice(0)[0];
            var url1 = location.origin + pathname + "/mysqlSamples/sqlStatementSyntax/dataDefinitionStatements/usingViewsToSimplifyTableAccess/selectWithoutViews";
            $.ajax({
                type: "GET",
                dataType: "json",
                url: url1,
                success: function(resultArr){
                    $('#selectWithoutViewsTable').removeClass("hidden");

                    $('#selectWithoutViewsTable').dataTable({
                        "data": resultArr,
                        "columns": [
                            { "data": "date_sent" },
                            { "data": "sender" },
                            { "data": "recipient" },
                            { "data": "size" }
                        ]
                    });
                }
            });
        });

        $( "#createView" ).click(function() {
            var pathname = location.pathname.split("/static").splice(0)[0];
            var url1 = location.origin + pathname + "/mysqlSamples/sqlStatementSyntax/dataDefinitionStatements/usingViewsToSimplifyTableAccess/createView";
            $.ajax({
                type: "GET",
                dataType: "html",
                url: url1,
                success: function(result){
                    $('#createViewOutput').html(result);
                }
            });
        });

        $( "#selectWithViews" ).click(function() {
            var pathname = location.pathname.split("/static").splice(0)[0];
            var url1 = location.origin + pathname + "/mysqlSamples/sqlStatementSyntax/dataDefinitionStatements/usingViewsToSimplifyTableAccess/selectWithViews";
            $.ajax({
                type: "GET",
                dataType: "json",
                url: url1,
                success: function(resultArr){
                    $('#selectWithViewsTable').removeClass("hidden");

                    $('#selectWithViewsTable').dataTable({
                        "data": resultArr,
                        "columns": [
                            { "data": "date_sent" },
                            { "data": "sender" },
                            { "data": "size" }
                        ]
                    });
                }
            });
        });

    });

    // load related plugins

    loadScript("js/plugin/datatables/jquery.dataTables.min.js", function(){
        loadScript("js/plugin/datatables/dataTables.colVis.min.js", function(){
            loadScript("js/plugin/datatables/dataTables.tableTools.min.js", function(){
                loadScript("js/plugin/datatables/dataTables.bootstrap.min.js", function(){
                    loadScript("js/plugin/datatable-responsive/datatables.responsive.min.js", pagefunction)
                });
            });
        });
    });

    //@ sourceURL=usingViewsToSimplifyTableAccess.js

</script>

